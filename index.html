<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ArrowUBG</title>
<meta name="theme-color" content="#00baff"/>
<link rel="stylesheet" href="styles.css" />
<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>
<!-- Decorative background particles -->
<div class="stars-layer" aria-hidden="true"></div>
<div class="nebula-layer" aria-hidden="true"></div>

<!-- Neon Sidebar -->
<nav class="neon-sidebar" role="navigation" aria-label="Primary">
<ul class="nav-list">
<li class="nav-icon active" data-page="home" aria-label="Home" tabindex="0">
<i class="fas fa-home"></i>
<span class="tooltip">Home</span>
<span class="active-bar"></span>
</li>
<li class="nav-icon" data-page="games" aria-label="Games" tabindex="0">
<i class="fas fa-gamepad"></i>
<span class="tooltip">Games</span>
<span class="active-bar"></span>
</li>
<li class="nav-icon" data-page="apps" aria-label="Apps" tabindex="0">
<i class="fas fa-mobile-alt"></i>
<span class="tooltip">Apps</span>
<span class="active-bar"></span>
</li>
<li class="nav-icon" data-page="search" aria-label="Proxy" tabindex="0">
<i class="fas fa-search"></i>
<span class="tooltip">Proxy</span>
<span class="active-bar"></span>
</li>
<li class="nav-icon" data-page="donate" aria-label="Donate" tabindex="0">
<i class="fas fa-heart"></i>
<span class="tooltip">Donate</span>
<span class="active-bar"></span>
</li>
<li class="nav-icon" data-page="settings" aria-label="Settings" tabindex="0">
<i class="fas fa-cog"></i>
<span class="tooltip">Settings</span>
<span class="active-bar"></span>
</li>
</ul>
</nav>

<!-- Main Content -->
<main id="content" role="main">
<!-- Home -->
<section id="home" class="page active" aria-labelledby="home-title">
<h1 id="home-title" class="logo">ArrowUBG</h1>
<p class="tagline">Peak gaming. Peak style. Peak freedom.</p>
<div class="pulse-ring" aria-hidden="true"></div>
</section>

<!-- Games -->
<section id="games" class="page" aria-labelledby="games-title">
<h2 id="games-title" class="visually-hidden">Games</h2>
<div id="game-grid" class="game-grid"></div>
</section>

<!-- Apps -->
<section id="apps" class="page" aria-labelledby="apps-title">
<h2 id="apps-title" class="visually-hidden">Apps</h2>
<div id="apps-grid" class="app-grid"></div>
</section>

<!-- Proxy -->
<!-- Proxy -->
<section id="search" class="page" aria-labelledby="search-title">
  <h2 id="search-title" class="visually-hidden">Proxy</h2>
  
  <!-- Proxy Header -->
  <header class="bg-[#001a2e] p-3 shadow-lg flex justify-between items-center z-10 border-b border-cyan-400">
    <div class="flex items-center space-x-2">
      <input id="search-input" type="text" placeholder="Search or enter URL..."
        class="bg-[#0a1d37] text-cyan-200 px-3 py-2 rounded-lg w-64 sm:w-96 focus:outline-none border border-cyan-400">
      <select id="engine-select" class="bg-[#0a1d37] text-cyan-200 px-2 py-2 rounded-lg border border-cyan-400">
        <option value="google">Google</option>
        <option value="bing">Bing</option>
        <option value="duckduckgo">DuckDuckGo</option>
      </select>
      <button id="search-button" class="bg-cyan-500 hover:bg-cyan-400 text-[#0a1d37] font-bold py-2 px-4 rounded-lg transition duration-200 shadow-md">
        Search
      </button>
    </div>
    <div class="flex items-center space-x-2">
      <button id="close-button" class="icon-btn" title="Close">✕</button>
      <button id="fullscreen-button" class="icon-btn" title="Fullscreen">⛶</button>
    </div>
  </header>

  <!-- Loader -->
  <div id="loading-indicator" class="flex-grow flex items-center justify-center text-cyan-200 text-xl">
    Ready to search...
  </div>

  <!-- Iframe -->
  <iframe id="proxy-iframe" class="w-full h-full border-none hidden"></iframe>
</section>


<!-- Donate -->
<section id="donate" class="page" aria-labelledby="donate-title">
<h2 id="donate-title">Support ArrowUBG</h2>
<ul class="donate-list" aria-label="Donation wallets">
<li>
<strong>Option 1 (E_yo):</strong>
<a href="bitcoin:bc1qzchqv8uyu0z9t3nzc3vt96kstv7z3xy032x0e0" target="_blank" rel="noopener">
bc1qzchqv8uyu0z9t3nzc3vt96kstv7z3xy032x0e0
</a>
</li>
<li>
<strong>Option 2 (goaded):</strong>
<a href="bitcoin:bc1qdm4eys343m9pqmh49jegwzfsaes4my86wggwad" target="_blank" rel="noopener">
bc1qdm4eys343m9pqmh49jegwzfsaes4my86wggwad
</a>
</li>
</ul>
</section>

<!-- Settings -->
    <section id="settings" class="page" aria-labelledby="settings-title">
      <h2 id="settings-title">Settings</h2>
      <ul class="settings-list">
        <li><i class="fas fa-adjust"></i> Theme toggle (light/dark)</li>
        <li><i class="fas fa-language"></i> Language selector</li>
        <li><i class="fas fa-info-circle"></i> About ArrowUBG</li>
      </ul>
    <!-- Settings -->
<section id="settings" class="page" aria-labelledby="settings-title">
  <!-- Dynamic content will be injected by settings.js -->
</section>
</section>
</main>

<!-- Accessibility helper -->
<button class="skip-link" onclick="document.getElementById('content').focus()">Skip to content</button>

<script src="main.js"></script>
<script src="games.js"></script>
<script src="apps.js"></script>
<script src="settings.js"></script> 
<script>
  const searchInput = document.getElementById('search-input');
  const engineSelect = document.getElementById('engine-select');
  const searchButton = document.getElementById('search-button');
  const iframe = document.getElementById('proxy-iframe');
  const loadingIndicator = document.getElementById('loading-indicator');
  const closeButton = document.getElementById('close-button');
  const fullscreenButton = document.getElementById('fullscreen-button');

  function buildSearchUrl(query, engine) {
    if (query.startsWith("http://") || query.startsWith("https://")) return query;
    switch(engine) {
      case "google": return "https://www.google.com/search?q=" + encodeURIComponent(query);
      case "bing": return "https://www.bing.com/search?q=" + encodeURIComponent(query);
      case "duckduckgo": return "https://duckduckgo.com/?q=" + encodeURIComponent(query);
      default: return "https://www.google.com/search?q=" + encodeURIComponent(query);
    }
  }

  function performSearch() {
    const query = searchInput.value.trim();
    if (!query) return;
    const engine = engineSelect.value;
    const url = buildSearchUrl(query, engine);

    loadingIndicator.innerHTML = "Loading...";
    iframe.classList.add("hidden");
    iframe.src = url;

    iframe.onload = () => {
      loadingIndicator.classList.add("hidden");
      iframe.classList.remove("hidden");
    };
    iframe.onerror = () => {
      loadingIndicator.innerHTML = '<span class="text-red-400">Error loading site.</span>';
    };
  }

  searchButton.addEventListener("click", performSearch);
  searchInput.addEventListener("keydown", e => { if (e.key === "Enter") performSearch(); });

  closeButton.addEventListener("click", () => {
    iframe.src = "";
    iframe.classList.add("hidden");
    loadingIndicator.classList.remove("hidden");
    loadingIndicator.innerHTML = "Ready to search...";
  });

  fullscreenButton.addEventListener("click", () => {
    if (!document.fullscreenElement) {
      iframe.requestFullscreen().catch(err => console.log(err));
    } else {
      document.exitFullscreen();
    }
  });
</script>
</body>
</html>
